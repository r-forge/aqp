<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title></title>

<script src="setup_local_nasis_files/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="setup_local_nasis_files/bootstrap-3.3.1/css/bootstrap.min.css" rel="stylesheet" />
<script src="setup_local_nasis_files/bootstrap-3.3.1/js/bootstrap.min.js"></script>
<script src="setup_local_nasis_files/bootstrap-3.3.1/shim/html5shiv.min.js"></script>
<script src="setup_local_nasis_files/bootstrap-3.3.1/shim/respond.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="setup_local_nasis_files/highlight/default.css"
      type="text/css" />
<script src="setup_local_nasis_files/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img { 
  max-width:100%; 
  height: auto; 
}
</style>
<div class="container-fluid main-container">




<div id="setup-an-odbc-connection-to-the-local-nasis-database" class="section level2">
<h2>Setup an ODBC Connection to the Local NASIS Database</h2>
<p>NASIS 6.2 <br>2015-04-23 <br>DEB</p>
<div id="introduction" class="section level3">
<h3>Introduction</h3>
<p>This document describes how setup an ODBC link between a local NASIS database and <strong>R</strong>, so that pedon and DMU records can be queried with the <a href="https://r-forge.r-project.org/scm/viewvc.php/*checkout*/docs/soilDB/soilDB-Intro.html?root=aqp">soilDB</a> package.</p>
</div>
<div id="open-the-odbc-data-source-administrator" class="section level3">
<h3>Open the ODBC Data Source Administrator</h3>
<ol style="list-style-type: decimal">
<li><p>Go to the Start Menu and search for 'ODBC'. See <a href="http://msdn.microsoft.com/en-us/library/ms188691.aspx">this page</a> if you get lost.</p></li>
<li>With the &quot;User DSN&quot; tab selected, create a new data source by clicking on the &quot;Add...&quot; button.</li>
</ol>
<ul>
<li>Select the &quot;SQL Server Native Client&quot; driver.</li>
<li>Name the data source <code>nasis_local</code>, the data source description is optional.</li>
<li>The server location is <code>XXXXXX\NASISSQLEXPRESS</code>, where <code>XXXXXX</code> is the <a href="http://windows.microsoft.com/en-us/windows7/find-your-computer-name">full name of your local machine</a>. It is usually on the outside of your computer somewhere, or can be accessed by right-clicking on the &quot;My Computer&quot; icon and then clicking on the &quot;Properties&quot; tab. It will look something like: <code>CASONORA00L354</code>. When finished click &quot;Next&quot;.</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Choose the second option: &quot;SQL Server authentication...&quot;, <strong>don't try and re-type these, just copy/paste</strong></li>
</ol>
<ul>
<li>login: <code>NASISSQLRO</code></li>
<li>password: <code>nasisRe@d0n1y</code></li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li><p>On the next screen, select &quot;Nasis-local&quot; as the default data base.</p></li>
<li><p>Click &quot;Next&quot; and then &quot;Finish&quot; the finalize the connection.</p></li>
<li><p>Close the ODBC control panel by clicking on 'OK'</p></li>
</ol>
</div>
<div id="install-required-packages" class="section level3">
<h3>Install Required Packages</h3>
<p>You will need to install a couple of packages before R is able to read data from the local NASIS database. This only has to be done once, usually the first time you open RStudio on your machine. Open RStudio (start menu, search for RStudio) and copy and paste the following lines into the R console. Press the enter key and wait: R will automatically download and install these packages. If this is the first time you have installed packages, you may notice that many more than the following two packages are being installed. This is normal-- the <code>RODBC</code> and <code>soilDB</code> packages depend on <a href="http://mran.revolutionanalytics.com/packagedata/graphs/soilDB.png">many other related packages</a>, which must be installed first.</p>
<pre class="r"><code># install packages (only first time)
install.packages(&quot;RODBC&quot;, dep=TRUE) # stable version from CRAN + dependencies
install.packages(&quot;soilDB&quot;, dep=TRUE) # stable version from CRAN + dependencies</code></pre>
</div>
<div id="an-example-r-session" class="section level3">
<h3>An example R session</h3>
<p>After installing the above packages, add some sites/pedons into the selected set and try loading them into your R session.</p>
<pre class="r"><code># load required libraries
library(soilDB)

# fetch all pedons from the selected set in local NASIS database
fp &lt;- fetchNASIS()

# make sketches of the first 10 pedons:
par(mar=c(0,0,0,0))
plot(fp[1:10, ], name=&#39;hzname&#39;, label=&#39;taxonname&#39;)</code></pre>
<p>Good job, that wasn't so hard. Now is a good time to check out <a href="http://aqp.r-forge.r-project.org/">some of the tutorials on the AQP website</a>. Details on loading NASIS data into R can be found in <a href="https://r-forge.r-project.org/scm/viewvc.php/*checkout*/docs/soilDB/fetchNASIS-mini-tutorial.html?root=aqp">this tutorial</a>.</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>


</body>
</html>
