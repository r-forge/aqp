<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Slab-Wise Aggregation of SoilProfileCollection Objects</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">

<link rel="stylesheet" href="highlight.css">
<script src="highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head><body>

<table width="100%" summary="page for slab-methods {aqp}"><tr><td>slab-methods {aqp}</td><td align="right">R Documentation</td></tr></table>

<h2>Slab-Wise Aggregation of SoilProfileCollection Objects</h2>

<h3>Description</h3>

<p>Aggregate soil properties along user-defined 'slabs', and optionally within groups.</p>


<h3>Usage</h3>

<pre>
# method for SoilProfileCollection objects
slab(object, fm, slab.structure=1, strict=FALSE, slab.fun=.slab.fun.numeric.default, cpm=1, weights=NULL, ...)
</pre>


<h3>Arguments</h3>


<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>
<p>a SoilProfileCollection</p>
</td></tr>
<tr valign="top"><td><code>fm</code></td>
<td>
<p>A formula: either &lsquo;groups ~ var1 + var2 + var3&rsquo; where named variables are aggregated within &lsquo;groups&rsquo; OR where named variables are aggregated across the entire collection &lsquo; ~ var1 + var2 + var3&rsquo;</p>
</td></tr>
<tr valign="top"><td><code>slab.structure</code></td>
<td>
<p>A user-defined slab thickness (defined by an integer), or user-defined structure (numeric vector). See details below.</p>
</td></tr>
<tr valign="top"><td><code>strict</code></td>
<td>
<p>logical: should horizons be strictly checked for self-consistency?</p>
</td></tr>
<tr valign="top"><td><code>slab.fun</code></td>
<td>
<p>Function used to process each 'slab' of data, ideally returning a vector with names attribute. Defaults to a wrapper function around <code>hdquantile</code>. See details.</p>
</td></tr>
<tr valign="top"><td><code>cpm</code></td>
<td>
<p>Strategy for normalizing slice-wise probabilities, dividing by either: number of profiles with data at the current slice (cpm=1), or by the number of profiles in the collection (cpm=2). Mode 2 values will always sum to the contributing fraction, while mode 1 values will always sum to 1.</p>
</td></tr>
<tr valign="top"><td><code>weights</code></td>
<td>
<p>Column name containing weights. NOT YET IMPLEMENTED</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>further arguments passsed to <code>slab.fun</code></p>
</td></tr>
</table>


<h3>Details</h3>


<p>Multiple continuous variables OR a single categorical (factor) variable can be aggregated within a call to <code>slab</code>. Basic error checking is performed to make sure that top and bottom horizon boundaries make sense. User-defined aggregate functions (<code>slab.fun</code>) should return a named vector of results. A new, named column will appear in the results of <code>slab</code> for every named element of a vector returned by <code>slab.fun</code>. See examples below for a simple example of a slab function that computes mean, mean-1SD and mean+1SD. The default slab function wraps <code><a href="../../Hmisc/html/hdquantile.html">hdquantile</a></code> from the Hmisc package.
</p>
<p>Execution time scales linearly (slower) with the total number of profiles in <code>object</code>, and exponentially (faster) as the number of profiles / group is increased.
</p>
<p>There are several possible ways to define slabs, using <code>slab.structure</code>:
</p>

<dl>
<dt>a single integer</dt><dd><p>e.g. 10: data are aggregated over a regular sequence of 10-unit thickness slabs</p>
</dd>
<dt>a vector of 2 integers</dt><dd><p>e.g. c(50, 60): data are aggregated over depths spanning 50&ndash;60 units</p>
</dd>
<dt>a vector of 3 or more integers</dt><dd><p>e.g. c(0, 5, 10, 50, 100): data are aggregated over the depths spanning 0&ndash;5, 5&ndash;10, 10&ndash;50, 50&ndash;100 units</p>
</dd>
</dl>
 


<h3>Value</h3>


<p>Output is returned in long format, such that slice-wise aggregates are returned once for each combination of grouping level (optional), variable described in the <code>fm</code> argument, and depth-wise 'slab'.
</p>
<p>Aggregation of numeric variables, using the default slab function:
</p>

<dl>
<dt>variable</dt><dd><p>The names of variables included in the call to <code>slab</code>.</p>
</dd>
<dt>groupname</dt><dd><p>The name of the grouping variable when provided, otherwise a fake grouping variable named 'all.profiles'.</p>
</dd>
<dt>p.q5</dt><dd><p>The slice-wise 5th percentile.</p>
</dd>
<dt>p.q25</dt><dd><p>The slice-wise 25th percentile</p>
</dd>
<dt>p.q50</dt><dd><p>The slice-wise 50th percentile (median)</p>
</dd>
<dt>p.q75</dt><dd><p>The slice-wise 75th percentile</p>
</dd>
<dt>p.q95</dt><dd><p>The slice-wise 95th percentile</p>
</dd>
<dt>top</dt><dd><p>The slab top boundary.</p>
</dd>
<dt>bottom</dt><dd><p>The slab bottom boundary.</p>
</dd>
<dt>contributing_fraction</dt><dd><p>The fraction of profiles contributing to the aggregate value, ranges from 1/n_profiles to 1.</p>
</dd>
</dl>

<p>When a single factor variable is used, slice-wise probabilities for each level of that factor are returned as:
</p>

<dl>
<dt>variable</dt><dd><p>The names of variables included in the call to <code>slab</code>.</p>
</dd>
<dt>groupname</dt><dd><p>The name of the grouping variable when provided, otherwise a fake grouping variable named 'all.profiles'.</p>
</dd>
<dt>A</dt><dd><p>The slice-wise probability of level A</p>
</dd>
<dt>B</dt><dd><p>The slice-wise probability of level B</p>
</dd>
<dt>...</dt><dd></dd>
<dt>n</dt><dd><p>The slice-wise probability of level n</p>
</dd>
<dt>top</dt><dd><p>The slab top boundary.</p>
</dd>
<dt>bottom</dt><dd><p>The slab bottom boundary.</p>
</dd>
<dt>contributing_fraction</dt><dd><p>The fraction of profiles contributing to the aggregate value, ranges from 1/n_profiles to 1.</p>
</dd>
</dl>



<h3>Methods</h3>



<dl>
<dt>data = &quot;SoilProfileCollection&quot;</dt><dd><p>Typical usage, where input is a <code><a href="SoilProfileCollection-class.html">SoilProfileCollection</a></code>.</p>
</dd>
</dl>



<h3>Note</h3>

<p>Arguments to <code>slab</code> have changed with <code>aqp</code> 1.5 (2012-12-29) as part of a code clean-up and optimization. Calculation of weighted-summaries was broken in <code>aqp</code> 1.2-6 (2012-06-26), and removed as of <code>aqp</code> 1.5 (2012-12-29).  <code>slab</code> replaced the previously defined <code>soil.slot.multiple</code> function as of <code>aqp</code> 0.98-8.58 (2011-12-21).</p>


<h3>Author(s)</h3>

<p>Dylan E Beaudette</p>


<h3>References</h3>


<p>D.E. Beaudette, P. Roudier, A.T. O'Geen, Algorithms for quantitative pedology: A toolkit for soil scientists, Computers &amp; Geosciences, Volume 52, March 2013, Pages 258-268, 10.1016/j.cageo.2012.10.020.
</p>
<p>Harrell FE, Davis CE (1982): A new distribution-free quantile estimator. Biometrika 69:635-640.
</p>


<h3>See Also</h3>


<p><code><a href="SPC-slice-methods.html">slice</a>, <a href="../../Hmisc/html/hdquantile.html">hdquantile</a></code>
</p>


<h3>Examples</h3>

<pre><code class="r">
##
## basic examples
##
library(lattice)
library(grid)

# load sample data, upgrade to SoilProfileCollection
data(sp1)
depths(sp1) &lt;- id ~ top + bottom

# aggregate entire collection with two different segment sizes
a &lt;- slab(sp1, fm = ~ prop)
b &lt;- slab(sp1, fm = ~ prop, slab.structure=5)

# check output
str(a)
</code></pre>

<pre><code>## &#39;data.frame&#39;:    240 obs. of  10 variables:
##  $ variable             : Factor w/ 1 level &quot;prop&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ all.profiles         : num  1 1 1 1 1 1 1 1 1 1 ...
##  $ p.q5                 : num  0.0083 0.0083 0.0332 0.1541 0.1541 ...
##  $ p.q25                : num  0.474 0.474 0.771 1.552 1.552 ...
##  $ p.q50                : num  3.44 3.44 3.52 4.53 4.53 ...
##  $ p.q75                : num  9.52 9.52 8.34 8.51 8.51 ...
##  $ p.q95                : num  13.7 13.7 16.6 16.6 16.6 ...
##  $ top                  : int  0 1 2 3 4 5 6 7 8 9 ...
##  $ bottom               : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ contributing_fraction: num  1 1 1 1 1 1 1 1 1 1 ...
</code></pre>

<pre><code class="r">
# stack into long format
ab &lt;- make.groups(a, b)
ab$which &lt;- factor(ab$which, levels=c(&#39;a&#39;,&#39;b&#39;), 
labels=c(&#39;1-cm Interval&#39;, &#39;5-cm Interval&#39;))

# plot median and IQR
# custom plotting function for uncertainty viz.
xyplot(top ~ p.q50 | which, data=ab, ylab=&#39;Depth&#39;,
             xlab=&#39;median bounded by 25th and 75th percentiles&#39;,
             lower=ab$p.q25, upper=ab$p.q75, ylim=c(250,-5),
             panel=panel.depth_function, 
             prepanel=prepanel.depth_function,
             cf=ab$contributing_fraction,
             layout=c(2,1), scales=list(x=list(alternating=1))
             )
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-1"/> </p>

<pre><code class="r">

##
## categorical variable example
##
library(reshape)

# normalize horizon names: result is a factor
sp1$name &lt;- generalize.hz(sp1$name, 
new=c(&#39;O&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;), 
pat=c(&#39;O&#39;, &#39;^A&#39;,&#39;^B&#39;,&#39;C&#39;))

# compute slice-wise probability so that it sums to contributing fraction, from 0-150
a &lt;- slab(sp1, fm= ~ name, cpm=1, slab.structure=0:150)

# reshape into long format for plotting
a.long &lt;- melt(a, id.vars=c(&#39;top&#39;,&#39;bottom&#39;), measure.vars=c(&#39;O&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;))

# plot horizon type proportions using panels
xyplot(top ~ value | variable, data=a.long, subset=value &gt; 0,
             ylim=c(150, -5), type=c(&#39;S&#39;,&#39;g&#39;), horizontal=TRUE, layout=c(4,1), col=1 )
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-1"/> </p>

<pre><code class="r">
# again, this time using groups
xyplot(top ~ value, data=a.long, groups=variable, subset=value &gt; 0,
             ylim=c(150, -5), type=c(&#39;S&#39;,&#39;g&#39;), horizontal=TRUE, asp=2)
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-1"/> </p>

<pre><code class="r">
# adjust probability to size of collection, from 0-150
a.1 &lt;- slab(sp1, fm= ~ name, cpm=2, slab.structure=0:150)

# reshape into long format for plotting
a.1.long &lt;- melt(a.1, id.vars=c(&#39;top&#39;,&#39;bottom&#39;), measure.vars=c(&#39;O&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;))

# group mode 1 and mode 2 data
g &lt;- make.groups(mode_1=a.long, mode_2=a.1.long)

# plot horizon type proportions
xyplot(top ~ value | variable, groups=which, data=g, subset=value &gt; 0,
             ylim=c(240, -5), type=c(&#39;S&#39;,&#39;g&#39;), horizontal=TRUE, layout=c(4,1), 
             auto.key=list(lines=TRUE, points=FALSE, columns=2),
             par.settings=list(superpose.line=list(col=c(1,2))))
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-1"/> </p>

<pre><code class="r">

# apply slice-wise evaluation of max probability, and assign ML-horizon at each slice
(gen.hz.ml &lt;- get.ml.hz(a, c(&#39;O&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;)))
</code></pre>

<pre><code>##   hz top bottom confidence
## 4  O   0      1         28
## 1  A   1     31         75
## 2  B  31    144         57
## 3  C 144    149         67
</code></pre>

<pre><code class="r">

##
## multivariate examples
##
data(sp3)

# add new grouping factor
sp3$group &lt;- &#39;group 1&#39;
sp3$group[as.numeric(sp3$id) &gt; 5] &lt;- &#39;group 2&#39;
sp3$group &lt;- factor(sp3$group)

# upgrade to SPC
depths(sp3) &lt;- id ~ top + bottom
site(sp3) &lt;- ~ group

# custom &#39;slab&#39; function, returning mean +/- 1SD
mean.and.sd &lt;- function(values) {
    m &lt;- mean(values, na.rm=TRUE)
    s &lt;- sd(values, na.rm=TRUE)
    upper &lt;- m + s
    lower &lt;- m - s
    res &lt;- c(mean=m, lower=lower, upper=upper)
    return(res)
    }

# aggregate several variables at once, within &#39;group&#39;
a &lt;- slab(sp3, fm=group ~ L + A + B, slab.fun=mean.and.sd)

# check the results:
# note that &#39;group&#39; is the column containing group labels
library(lattice)
xyplot(
    top ~ mean | variable, data=a, groups=group,
    lower=a$lower, upper=a$upper, sync.colors=TRUE, alpha=0.5,
    cf=a$contributing_fraction,
    ylim=c(125,-5), layout=c(3,1), scales=list(x=list(relation=&#39;free&#39;)),
    par.settings=list(superpose.line=list(lwd=2, col=c(&#39;RoyalBlue&#39;, &#39;Orange2&#39;))),
    panel=panel.depth_function, 
    prepanel=prepanel.depth_function,
    auto.key=list(columns=2, lines=TRUE, points=FALSE)
)
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-1"/> </p>

<pre><code class="r">

# compare a single profile to the group-level aggregate values
a.1 &lt;- slab(sp3[1, ], fm=group ~ L + A + B, slab.fun=mean.and.sd)

# manually update the group column
a.1$group &lt;- &#39;profile 1&#39;

# combine into a single data.frame:
g &lt;- rbind(a, a.1)

# plot with customized line styles
xyplot(
    top ~ mean | variable, data=g, groups=group, subscripts=TRUE, 
    lower=a$lower, upper=a$upper, ylim=c(125,-5),
    layout=c(3,1), scales=list(x=list(relation=&#39;free&#39;)),
    panel=panel.depth_function, 
    prepanel=prepanel.depth_function,
    sync.colors=TRUE, alpha=0.25,
    par.settings=list(superpose.line=list(col=c(&#39;orange&#39;, &#39;royalblue&#39;, &#39;black&#39;), lwd=2, lty=c(1,1,2))),
    auto.key=list(columns=3, lines=TRUE, points=FALSE)
)
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-1"/> </p>

<pre><code class="r">


## convert mean value for each variable into long format
library(reshape)

# note that depths are no longer in order 
a.wide &lt;- cast(a, group + top + bottom ~ variable, value=c(&#39;mean&#39;))

## again, this time for a user-defined slab from 40-60 cm
a &lt;- slab(sp3, fm=group ~ L + A + B, slab.structure=c(40,60), slab.fun=mean.and.sd)

# now we have weighted average properties (within the defined slab) for each variable, and each group
(a.wide &lt;- cast(a, group + top + bottom ~ variable, value=c(&#39;mean&#39;)))
</code></pre>

<pre><code>##     group top bottom     L      A     B
## 1 group 1  40     60 45.31 14.121 17.69
## 2 group 2  40     60 50.05  6.839 11.60
</code></pre>

<pre><code class="r">
## this time, compute the weighted mean of selected properties, by profile ID
a &lt;- slab(sp3, fm= id ~ L + A + B, slab.structure=c(40,60), slab.fun=mean.and.sd)
(a.wide &lt;- cast(a, id + top + bottom ~ variable, value=c(&#39;mean&#39;)))
</code></pre>

<pre><code>##    id top bottom     L      A      B
## 1   1  40     60 48.55 10.353 17.307
## 2  10  40     60 54.97  8.651 14.715
## 3   2  40     60 40.15 13.805 15.217
## 4   3  40     60 43.64 15.008 17.511
## 5   4  40     60 43.49 13.704 16.814
## 6   5  40     60 50.72 17.734 21.595
## 7   6  40     60 52.93  8.209 14.902
## 8   7  40     60 44.17  5.114  8.414
## 9   8  40     60 45.74  5.902  8.772
## 10  9  40     60 52.43  6.320 11.197
</code></pre>

<pre><code class="r">

## aggregate the entire collection, using default slab function (hdquantile)
## note the missing left-hand side of the formula
a &lt;- slab(sp3, fm= ~ L + A + B)


## weighted-aggregation -- NOT YET IMPLEMENTED --
# load sample data, upgrade to SoilProfileCollection
data(sp1)
depths(sp1) &lt;- id ~ top + bottom

# generate pretend weights as site-level attribute
set.seed(10101)
sp1$site.wts &lt;- runif(n=length(sp1), min=20, max=100)

</code></pre>


<hr><div align="center">[Package <em>aqp</em> version 1.5 <a href="00Index.html">Index</a>]</div>
</body></html>
