<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Slicing of SoilProfilecollection Objects</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">

<link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/github.min.css">
<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
<script src="http://yandex.st/highlightjs/7.3/languages/r.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head><body>

<table width="100%" summary="page for slice-methods {aqp}"><tr><td>slice-methods {aqp}</td><td align="right">R Documentation</td></tr></table>

<h2>Slicing of SoilProfilecollection Objects</h2>

<h3>Description</h3>

<p>Slicing of SoilProfilecollection Objects</p>


<h3>Usage</h3>

<pre>
# method for SoilProfileCollection objects
slice(object, fm, top.down=TRUE, just.the.data=FALSE, strict=TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>
<p>a SoilProfileCollection</p>
</td></tr>
<tr valign="top"><td><code>fm</code></td>
<td>
<p>A formula: either &lsquo;integer.vector ~ var1 + var2 + var3&rsquo; where named variables are sliced according to &lsquo;integer.vector&rsquo; OR where all variables are sliced accordin to &lsquo;integer.vector&rsquo; &lsquo;integer.vector ~.&rsquo;.</p>
</td></tr>
<tr valign="top"><td><code>top.down</code></td>
<td>
<p>Logical, should slices be defined from the top-down? The default is usually what you want.</p>
</td></tr>
<tr valign="top"><td><code>just.the.data</code></td>
<td>
<p>Logical, return just the sliced data or a new SoilProfileCollection object.</p>
</td></tr>
<tr valign="top"><td><code>strict</code></td>
<td>
<p>Logical, should the horizonation be strictly checked for self-consistency?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a new SoilProfileCollection with data sliced according to <code>fm</code>, or a <code>data.frame</code>.</p>


<h3>Methods</h3>


<dl>
<dt>data = &quot;SoilProfileCollection&quot;</dt><dd><p>Typical usage, where input is a <code><a href="SoilProfileCollection-class.html">SoilProfileCollection</a></code>.</p>
</dd>
</dl>



<h3>Note</h3>

<p><code>slab()</code> and <code>slice()</code> are much faster and require less memory if input data are either numeric or character.</p>


<h3>Author(s)</h3>

<p>D.E. Beaudette</p>


<h3>References</h3>

<p>D.E. Beaudette, P. Roudier, A.T. O'Geen, Algorithms for quantitative pedology: A toolkit for soil scientists, Computers &amp; Geosciences, Volume 52, March 2013, Pages 258-268, 10.1016/j.cageo.2012.10.020.
</p>


<h3>See Also</h3>

<p><code><a href="SPC-slab-methods.html">slab</a></code></p>


<h3>Examples</h3>

<pre><code class="r"># simulate some data, IDs are 1:20
library(plyr)
d &lt;- ldply(1:20, random_profile)

# init SoilProfilecollection object
depths(d) &lt;- id ~ top + bottom
head(horizons(d))
</code></pre>

<pre><code>##   id top bottom name         p1        p2        p3        p4         p5
## 1  1   0     21   H1  0.8583492  1.205228  2.757525 -4.067843  -8.585011
## 2  1  21     43   H2 17.7971878 10.076897  7.545128 -3.401788 -10.387936
## 3  1  43     56   H3 12.2904726 17.091891 11.275015  6.624154 -12.016629
## 4  1  56     79   H4 17.6256817 21.592018  2.834439 12.370482  -5.806570
## 5  1  79    101   H5 18.9137066 37.250616 13.628086 11.517671 -10.411028
## 6  2   0     14   H1  8.3633610 -7.562248 17.919181  5.508410  -2.729564
</code></pre>

<pre><code class="r"># generate single slice at 10 cm
# output is a SoilProfilecollection object
s &lt;- slice(d, 10 ~ name + p1 + p2 + p3)

# generate single slice at 10 cm, output data.frame
s &lt;- slice(d, 10 ~ name + p1 + p2 + p3, just.the.data=TRUE)

# generate integer slices from 0 - 25 cm
s &lt;- slice(d, 0:25 ~ name + p1 + p2 + p3)
plot(s)
</code></pre>

<p><img src="data:image/png;base64,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//P5+fnf/d3fzfuG27dvL56C5sNJ3nA4fPDgwcxvGI/H9rTSnkHauWiMWXCu6RevEQKAIr/5zW9W57t///6CWnsml/+x0+m8fPnSGHN0dDQ95Dqdzng8Nsakabq1tVXZQ7kxDEIAQCH9fv/p06dRFD19+rTf78dx/Pz5c3u5dfo6ZxzH5+fnURStr68/e/bM33qLihr1iiUAADXjjBAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACgGoMQAKAagxAAoBqDEACg2v8D++l39lJcZ9kAAAAASUVORK5CYII=" title="plot of chunk unnamed-chunk-1" alt="plot of chunk unnamed-chunk-1" style="display: block; margin: auto;" /></p>

<pre><code class="r"># generate slices from 0 - 10 cm, for all variables
s &lt;- slice(d, 0:10 ~ .)
print(s)
</code></pre>

<pre><code>## Object of class SoilProfileCollection
## Number of profiles: 20
## Depth range: 11-11 cm
## 
## Horizon attributes:
##     id top bottom name        p1       p2       p3        p4        p5
## 1    1   0      1   H1 0.8583492 1.205228 2.757525 -4.067843 -8.585011
## 21   1   1      2   H1 0.8583492 1.205228 2.757525 -4.067843 -8.585011
## 41   1   2      3   H1 0.8583492 1.205228 2.757525 -4.067843 -8.585011
## 61   1   3      4   H1 0.8583492 1.205228 2.757525 -4.067843 -8.585011
## 81   1   4      5   H1 0.8583492 1.205228 2.757525 -4.067843 -8.585011
## 101  1   5      6   H1 0.8583492 1.205228 2.757525 -4.067843 -8.585011
##     .pctMissing
## 1             0
## 21            0
## 41            0
## 61            0
## 81            0
## 101           0
## 
## Sampling site attributes:
##   id
## 1  1
## 2  2
## 3  3
## 4  4
## 5  5
## 6  6
</code></pre>

<pre><code class="r"># note that pct missing is computed for each slice,
# if all vars are missing, then NA is returned
d$p1[1:10] &lt;- NA
s &lt;- slice(d, 10 ~ ., just.the.data=TRUE)
print(s)
</code></pre>

<pre><code>##    id top bottom name         p1         p2          p3          p4
## 1   1  10     11   H1         NA   1.205228   2.7575246  -4.0678431
## 2   2  10     11   H1         NA  -7.562248  17.9191809   5.5084104
## 3   3  10     11   H2   4.010387 -25.247742 -11.2862704  21.3906981
## 4   4  10     11   H1  -7.288480   2.760275  -9.1894641   5.6805986
## 5   5  10     11   H1 -11.054995   7.344945   9.0805688  -5.9198265
## 6   6  10     11   H1  -3.075412   5.913689  -5.4255586 -13.9783050
## 7   7  10     11   H2  -4.526756  -2.893953 -24.8061259 -23.1849711
## 8   8  10     11   H1  -4.086538  -2.604792 -10.2920635  -0.9488547
## 9   9  10     11   H1  -7.545565  -1.269200   1.9983893   7.0638432
## 10 10  10     11   H2  -1.803054   1.235178  -3.8944741   3.5950249
## 11 11  10     11   H1  -2.456317  -5.585160  14.2825231   1.4141020
## 12 12  10     11   H1  -9.492736  -6.910745  -2.8214447 -11.0235070
## 13 13  10     11   H1   3.922534   9.772090  -7.5898072   7.9852948
## 14 14  10     11   H2  10.509317  -2.831071  -3.7484429   6.0993438
## 15 15  10     11   H1  14.837561   8.341730  -3.2128552  -0.3050239
## 16 16  10     11   H1   4.802664   5.716881   4.9438749 -17.2902165
## 17 17  10     11   H1  12.133638  12.317765   2.4683577  14.7579452
## 18 18  10     11   H1  18.135846   1.542805  -0.6223569   0.3799696
## 19 19  10     11   H1 -11.531659   9.868715   3.4865392  -3.1279236
## 20 20  10     11   H2   8.456294  -5.113793 -11.0774933   8.7680571
##            p5 .pctMissing
## 1   -8.585011   0.1666667
## 2   -2.729564   0.1666667
## 3    6.263407   0.0000000
## 4    1.259891   0.0000000
## 5    5.525278   0.0000000
## 6    6.230459   0.0000000
## 7    6.544873   0.0000000
## 8    4.705985   0.0000000
## 9    1.408384   0.0000000
## 10  11.451095   0.0000000
## 11  20.173723   0.0000000
## 12  -2.044090   0.0000000
## 13  -9.198339   0.0000000
## 14   1.378846   0.0000000
## 15  -4.173227   0.0000000
## 16   5.177042   0.0000000
## 17  -3.149350   0.0000000
## 18 -12.280572   0.0000000
## 19  -3.748042   0.0000000
## 20   7.249223   0.0000000
</code></pre>

<pre><code class="r">## 
## check sliced data
##

# test that mean of 1 cm slices property is equal to the 
# hz-thickness weighted mean value of that property
data(sp1)
depths(sp1) &lt;- id ~ top + bottom

# get the first profile
sp1.sub &lt;- sp1[which(profile_id(sp1) == &#39;P009&#39;), ]

# compute hz-thickness wt. mean
hz.wt.mean &lt;- with(horizons(sp1.sub), 
sum((bottom - top) * prop) / sum(bottom - top) 
)

# hopefully the same value, calculated via slice()
s &lt;- slice(sp1.sub, 0:max(sp1.sub) ~ prop)
hz.slice.mean &lt;- mean(s$prop, na.rm=TRUE)

# same?
if(!all.equal(hz.slice.mean, hz.wt.mean))
    stop(&#39;there is a bug in slice() !!!&#39;)
</code></pre>


<hr><div align="center">[Package <em>aqp</em> version 1.7-11 <a href="00Index.html">Index</a>]</div>
</body></html>
