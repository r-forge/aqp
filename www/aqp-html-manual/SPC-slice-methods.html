<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Slicing of SoilProfilecollection Objects</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">

<link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/github.min.css">
<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
<script src="http://yandex.st/highlightjs/7.3/languages/r.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head><body>

<table width="100%" summary="page for slice-methods {aqp}"><tr><td>slice-methods {aqp}</td><td align="right">R Documentation</td></tr></table>

<h2>Slicing of SoilProfilecollection Objects</h2>

<h3>Description</h3>

<p>Slicing of SoilProfilecollection Objects</p>


<h3>Usage</h3>

<pre>
# method for SoilProfileCollection objects
slice(object, fm, top.down=TRUE, just.the.data=FALSE, strict=TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>
<p>a SoilProfileCollection</p>
</td></tr>
<tr valign="top"><td><code>fm</code></td>
<td>
<p>A formula: either &lsquo;integer.vector ~ var1 + var2 + var3&rsquo; where named variables are sliced according to &lsquo;integer.vector&rsquo; OR where all variables are sliced accordin to &lsquo;integer.vector&rsquo; &lsquo;integer.vector ~.&rsquo;.</p>
</td></tr>
<tr valign="top"><td><code>top.down</code></td>
<td>
<p>Logical, should slices be defined from the top-down? The default is usually what you want.</p>
</td></tr>
<tr valign="top"><td><code>just.the.data</code></td>
<td>
<p>Logical, return just the sliced data or a new SoilProfileCollection object.</p>
</td></tr>
<tr valign="top"><td><code>strict</code></td>
<td>
<p>Logical, should the horizonation be strictly checked for self-consistency?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a new SoilProfileCollection with data sliced according to <code>fm</code>, or a <code>data.frame</code>.</p>


<h3>Methods</h3>


<dl>
<dt>data = &quot;SoilProfileCollection&quot;</dt><dd><p>Typical usage, where input is a <code><a href="SoilProfileCollection-class.html">SoilProfileCollection</a></code>.</p>
</dd>
</dl>



<h3>Note</h3>

<p><code>slab()</code> and <code>slice()</code> are much faster and require less memory if input data are either numeric or character.</p>


<h3>Author(s)</h3>

<p>D.E. Beaudette</p>


<h3>References</h3>

<p>D.E. Beaudette, P. Roudier, A.T. O'Geen, Algorithms for quantitative pedology: A toolkit for soil scientists, Computers &amp; Geosciences, Volume 52, March 2013, Pages 258-268, 10.1016/j.cageo.2012.10.020.
</p>


<h3>See Also</h3>

<p><code><a href="SPC-slab-methods.html">slab</a></code></p>


<h3>Examples</h3>

<pre><code class="r"># simulate some data, IDs are 1:20
library(plyr)
d &lt;- ldply(1:20, random_profile)

# init SoilProfilecollection object
depths(d) &lt;- id ~ top + bottom
head(horizons(d))
</code></pre>

<pre><code>##   id top bottom name        p1        p2         p3         p4         p5
## 1  1   0     28   H1  7.251915 11.629878  -8.260314  -8.949443  -5.133329
## 2  1  28     51   H2 16.857223  8.516500 -12.710994  -6.712572  -1.344185
## 3  1  51     64   H3  6.676045 -5.470975  -9.467606  -1.433539  -2.064163
## 4  1  64     70   H4 -3.866768 -1.250644 -10.029076 -15.934612  -5.323638
## 5  1  70     94   H5  5.312723  6.285273 -18.696980 -12.676867 -13.328437
## 6  1  94    116   H6 20.797224  9.076161 -18.794231 -12.623989  -4.096618
</code></pre>

<pre><code class="r"># generate single slice at 10 cm
# output is a SoilProfilecollection object
s &lt;- slice(d, 10 ~ name + p1 + p2 + p3)

# generate single slice at 10 cm, output data.frame
s &lt;- slice(d, 10 ~ name + p1 + p2 + p3, just.the.data=TRUE)

# generate integer slices from 0 - 25 cm
s &lt;- slice(d, 0:25 ~ name + p1 + p2 + p3)
plot(s)
</code></pre>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAJYCAIAAAAxBA+LAAAABmJLR0QA/wD/AP+gvaeTAAAgAElEQVR4nO3dP2wb2bn38TOCjaS4FuDKheDiChKBWAvk3qijGjUpqAUEVcYWG7jTdKaLLdedb3ERF6RSSUUAVwFcXBBam+z2TyF13molJyRtXOB2KRwh3i6A5i3OuwNaEqmZ8+icmcPn+6lkrR49h4+4++wMxZ+TLMsMAABaLVR9AAAAqsQiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYilBqPx0mSDAaDsoVpmiZJkiRJmqYOffPybrfrUG5tbGxsbGw4t3Z74IPBwO2Bd7vdZILDA7+pmZd61BeeIfmjKPhNLj/Bij/lLnxl2Yc/rbzg5K88Z8Gn3LTWbg+81FNustbhKedp5tc+6suNyj7TVMsgMBqN7Bj7/X6pwn6/b6vsd3Au73Q6xpjRaFSq3LK1zWazbGGz2dzd3XXomP0ysX6/nz8Eh2/i9qhtx9Fo5NY6b5p/nyJVF54h9o/Fv8nlJ1jxp9yFryz7lJtWXnD4V56z4FPucm2pp9yVMy/4lJs2XrdHXfYpd6G8+FPu8g+37DNNuVsuyxPGGGPG4/Hq6qpbbavVyrLMfhNjzHA4bLVaDuXD4dAYs7KyUvYA4/H45cuXzWazbKEx5vj4+Ouvv3YoNMa8fv3aGGMfrH0IZY3H4ydPnnQ6HYdHPansz+709NQYs7KyYvu+fv263W7PLrn8DLEPPz/5aDSa8Sgulxd/yl3+ylJPuRnlRZ5yV56z4FPuytriT7lpMy/ylJs23oJPuWt/OrP/6eXy4k+5yz/cCz+m2c80cGtUZHd31/4PlzP7b+nnn3/uUDsYDJ48eeK2Th49euS2zOy/aVtbW0mSONxWNcY0m03J/ck//vGPxphrl9BlrVar3++vrq5ubW05/HfhwYMHxpjxeGwnUNCFZ4j9T1vO/teqePmVnyleaxV8yl1ZXvwpd7m8+FPuQm3Zp9zl1sWfclc+6uJPuQvlZZ9yF8odnnL5D7fsM027yq5F54XkFp+t7XQ6zt3d7qx2Oh17e6rZbJa9NZrfabGtyx5+d3dXUp5lmfPELpzc4UdmD2+MaTabxc8w+Qyx3yH75QdX5JtcfoIVf8pNqy14+CsbFZ/eZHnZp9xkrcNT7vLMi5dfftSlnnIzTu7wIyv1lJv84To80zTjirAy4/F4a2trd3fX4eImZ/8fs+z/7r18+fL4+DhJkuPj4+Pj41IXdvYmjL1d02w2L/yP57Xs/+Tmd3vKltuX/RuNRqkqq9frTbZ2+H/k/f19+6/N8fGx2xnsw8+5fRNnPOXM/D7lLvxwq32mRYdFWJnV1dVms7m/v+9Qa38fbDweu/1benR0ZP/tsv97fnR05NB6PB4fHx9f+PftWvaOXH63Z2dnp1S5/U9JqddTc/mNJreh2d88HAwGttzt5WH78AeDgf3/dOfXmN3wlDPz+5S78MOt9pkWn9CXoHNH8iuIOYcbF/kvHUhuejjcGp1s7fa7o/mrIA7l+Q0fN/mNJreT5w+81I/7wjMk/9EX/CY3dWvU4Sl3oVHZp9yV53S4NZqVf8pdKC/1lLvy5mSRpjPKnU9e8Cl35Q+37DNNsyRz+lULAADmA7dGAQCqsQgBAKqxCAEAqrEIAQCqsQgBAKqxCAEARW1sbDjnI9YWixAAUMhgMHj48KF90908/e1O/O0TLobD4cePHy9//s6dO0XCIyTl02qF5RWenKHF1VpYztA8tS5efnR09Otf/3raN5ndazgc2syanZ2dC3+BycbGxvHxsTEmy7LBYNDr9Q4ODowx/X5/a2vLuP5tM4FU+37+GL17925h4eor6YWFhffv3/srn1ErLK/w5AwtrtbxnpyhZVn2448/TjuhdevWrQ8fPkzrsru7a/9qQ/s3U+afz//Y7/ft36Fh84M6nY6N1Ol0OnUOuOGKsLSzs7Pz8/PDw8O1tbXJz5+cnGxvb//jH//493//d0/l02qF5RWenKHF1TrekzM0W55lmTHmykNat2/fvnv37rQu04Jeh8OhvY5stVqtVsveQTXxhH3zGqGjpaWl5U8tLS3l/3Q8Hk++mJymaf43iv3lL3+RlF9ZO1nur/W15RW2ZmgMjaEVH9rS0tJ///d/n5+f26/55ptv/va3v9mP79+/b6ZrNBr2rzzs9XqTS67RaNh08vF47PbXlFaLRRhUmqbPnz93Lv+v//qvqlpLyitsbRiaE4bmIN6hPXnypOAXt1qtly9fJkliPv0bOVqt1unpaZIkq6urL168cDtJhViEQe3s7Hz11VfO5Zubm1W1lpRX2NowNCcMzUG8Q7vwl1fMZv9Grct/mVf+VyeurKy0Wi371yLmH7Tbbbe/yioMFqEvBwcHyS/sb0+ZMn+r2ZXlBe85+GhdsLzC1tPKGZpDOUNzKI9iaOvr68aY9fV1h9ZzjEXoy+RfP5b/nWRhynW2FpbrbC0s19laWF5t6zdv3hhj3rx549B6jrEIAQCqsQgBALplKCm/t1Dw8zdYPuNrJOUVnpyhxdU63pMztFLfTRuuCAEAqpEs46jf75+enk5+5n//93/DlF+uFZZXeHKGFldrYTlD89paXq4Wi7C0jx8/LiwsPH369PI/WlhY+Pnnn/2Vz6gVlld4coYWV2thOUPz0Vperhy3Rku7c+eOzfR796nDw8Pz8/N/+7d/MzOTkF69euVcPq31ZLmn1kXKK2zN0BgaQ3MeWrfbnae/U8kBV4SObKbf5GfOzs6urUrT1L6P1a3cZjhdri1SLmwtKa+wtWFoDC1IaxP50Pr9/rVd5hhXhEGpzXAi+Cqi1oahOYl3aKUi1uYSi9AXtRlOBF8xtAAnZ2huQyNi7UosQl/UZjhV1VpYrrO1sFxna2E5EWs1xCIEAKjGIgQA6JahJDKc5qN1vCdnaHG1rtXJiVi7EleEAADVeB+hIzKcYm8tLGdoXlsLy2vVWlhOxFoALMLSyHCam9bCcobmo7WwvJ6theVErPnGrdHSiFirYWuGxtAYGhFrzrgidESGUxStDUNjaEFam8iHRsQawlGb4UTwVUStDUNzEu/QiFhjEfqiNsOJ4CuGFuDkDM1taESsXYlF6IvaDKeqWgvLdbYWlutsLSwnYq2GWIQAANVYhAAA3TKURIbTfLSO9+QMLa7WtTo5EWtX4ooQAKAa7yN0RIZT7K2F5QzNa2thea1aC8uJWAuARVgaGU5z01pYztB8tBaW17O1sJyINd9YhKXlQUpra2uTnz85Odne3rZJSJ7Kp9UKyys8OUOLq3W8J2dos8u1q/pFyvgUeVF6NBpdeLvPaDSyH9sACLfyIq/Ge2pdpLzC1gyNoTG0IkPL/zhZ2+l0+v3+5WPrwRVhUHkkoBsbZlhJa0l5ha0NQ3PC0BxEPTSyRhGO2jBDEiAjam0YmpN4h0bWKIvQF7VhhiRAMrQAJ2dobkMja/RKLEJf1IYZVtVaWK6ztbBcZ2thOVmjNcQiBACoxiIEAOiWoSTCDOejdbwnZ2hxta7VyQt+N224IgQAqMb7CB0RZhh7a2E5Q/PaWlheq9bCcrJGA2ARlkaY4dy0FpYzNB+theX1bC0sJ2vUN26NlpZn+r371OHh4fn5uc30G4/HaZrmJWmajsdj+/GrV6+cy6e1niz31LpIeYWtGRpDY2jOQ+t2u4PBwCjGFaGjpaWl5eXlyc+cnZ1dW5UnIbmV2wyny7VFyoWtJeUVtjYMjaEFaW0iHxoRawhHbYYTwVcRtTYMzUm8QyNijUXoi9oMJ4KvGFqAkzM0t6ERsXYlFqEvajOcqmotLNfZWlius7WwnIi1GmIRAgBUYxECAHTLUBIZTvPROt6TM7S4Wtfq5PKItWazaXdH/hfczwGuCAEARX322Wd2eaysrFR9lhvD+wgdkeEUe2thOUPz2lpYXqvWwnIfJ3/79m2WZVd+hzt37jQajWnffzweHxwcHBwcNJvNo6OjyX+0sbFxfHxsjMmybDAY9Ho9+4up/X5/a2vLfr74AwmtwqvRSH3//fcLC1dfSS8sLPzwww/+ymfUCssrPDlDi6t1vCdnaFmWfffdd9NOaN26devDhw/TuvT7/U6nk2XZaDSyH1z4fL/f393d7ff7zWYzy7JOp2N/zbXT6fT7/dkPoULcGi0t0oi1JEk2NzcJvgp58iIzZ2g800IObXFx0RhzeHj4xRdffPvtt/Zrnj59+uc//9l+/P79+7t375opWq1Wu902xoxGo8nPD4dDex3ZarX29/eNMQ8fPjTGNBqNBw8eTPtu9cGtUUdxZTh1u91+v3/v3r319XWCr8KcXDhznUMTljO0guVLS0uLi4v3799fXl7OI9YuH/uybrfbaDTse/An76A2Go3hcNhqtcbj8aNHj77++utrv1WtcEUYVFUZTu12W5gfQfBVWcKZ6xyasJyhudUWj1hrt9vPnj1LkqTX600+vVut1unpaZIkq6urL168cDtJhViEvtQtwynMyQm+cpg5Q+OZFlHE2tHRUZZl9v7npP39fft628rKSn4HNf9A/v/iXrEIfalhhpP9d6CS1vUv99S6yMwZWlytheVErNUQi1CF8XicJIn9dwBhMHMgFixCFf74xz+awleEuBHMHIhGhpLIcJqP1vGenKHF1bpWJ5dHrM0lrggBAKrxPkJHZDjF3lpYztC8thaW16q1sDzYyTVjEZb28ePHhYWFp0+fXv5HCwsLP//8s7/yGbXC8gpPztDiai0sZ2g+WsvLlWMRlpYHKa2trU1+/uTkZHt72yYheSqfVissr/DkDC2u1vGenKHNLteu6hcp41PkRenRaHTh7T75391lAyDcyou8Gj+tNv+J+zu5p0dd4dCErYvMnKE5lDM056Hlf5ysrXkidgBcEQaVRwK6sWGGDiZzL92+g+Tkwkdd1dCErYUz1zk0YTlDc67t9/vO3ecAvzUaFFmj4cvJGnUQb2wmQ3OoLZ41Oq9YhL7ULcwwzMlJgHSYOUPjmRZR1uhcYhH6UsMwQ7JGw7cma3T+WgvLyRqtIRahCuRehsfMgViwCFUg9zI8Zg5EI0NJhBnOR+t4T87Q4mpdq5MX/G7acEUIAFCN9xE6Isww9tbCcobmtbWwvFatheVkjQbAIiyNMMO5aS0sZ2g+WgvL69laWE7WqG/cGi0tz/R796nDw8Pz83Ob6Tcej9M0zUvSNB2Px/bjV69eOZdPaz1ZPq02SZLNzU2vJ/f0qCscmrB1kZkzNIYW5uQzarvd7mAwMIpxRehoaWlpeXl58jNnZ2fXVuVJSG7lNsPpcu215ZNxX+FPLnzUVQ1N2Fo4c4bG0MKcnIg1wxVhYESshS8nYs0BQ3NAxFq8WIS+1C3DKczJCb5ymDlDY2hErFWLRehLDTOciFgL35qINYdyhuavNRFrV2IRqkDcV3jM3AFDQyVYhCoQ9xUeM3fA0FCNDCWR4TQfreM9OUOLq3WtTk7E2pW4IgQAqMb7CB2R4RR7a2E5Q/PaWlheq9bCciLWAmARlkaG09y0FpYzNB+theX1bC0sJ2LNN26NlkbEWg1bexqasHWRB15ha4Z2s+XTjl2TkxOxNgNXhI7iynCqMGKt2nQ3ozItTD5zhUOTn3xvb+/x48dErMWIK8KgFEasVZvuZlSmhclnrnBowvJ2u10wWebGWwvLiVgzLEJ/6pbhFObkFbaeVq4zLUzYXefQ5v7kRKxNwyL0pYYZThVGrAVoLSyfv7SweBP1iFjz15qItSuxCFWoMLlKbWgWM3cQ9ckJxIkXi1CFCpOr1IZmMXMHsZ8cscpQEhlO89E63pMztLha1+rkRKxdiStCAIBqvI/QERlOsbcWljM0r62F5bVqLSwnYi0AFmFpZDjNTWthOUPz0VpYXs/WwnIi1nxjEZaWp0+tra1Nfv7k5GR7e9smIXkqn1YrLK/w5AwtrtbxnpyhzS7XruoXKeNT5EXp0Wh04e0+o9HIfmwDINzKi7waP602/4n7O3mFrT0NTdi6yAP3NDRhuc6h3cjJKxlakXJbm//x8tAuH1sPflkmqDRNnz9/7lxuEyAd2AjHN4K3ZzmfvMLWlvPQhK0lD1w4NPnMFQ7NiE++t7dXSWtJuR1almWdTqfb7TofIHYswqDIGg3Z2ooxNlM4NJ1Zo9U+0yLNGs2H1mg0Go2G8wFixyL0pW6xmWFOTtboTYVPVluuc2g6s0atZ8+eaQ4dZRH6UsMwQ7JGw7eWxGYKh6Yza1TtM61g7eRrhPnnkyQ5Ojoqe5J5wiJUgdzL8CQPXDi0eGde4dCEIs0atUPLJn5lRicWoQrkXoYneeDCocU78wqHJhRp1qg9tr3RqvmXZVT/yqwbwgzno3W8J2docbWu1ckLfrfZOp2O/V3TLMuazab59IZtjLgiBAAUlabpkydP7MeDweDhw4dZltmPKz2XCMkyjggzjL21sJyheW0tLK9Va2G5j5O/ffs2m/K64J07d2a/j2JnZ+fBgwf24+Fw+Pnnn9tPDofDyd873djYOD4+NsZkWTYYDHq9nv091X6/v7W1ZT9f/HH5xiIsjTDDuWktLGdoPloLy+vZWlh+gyf/5z//aYz58ssvp32fW7du/f3vf7979+60L2i1WsPh0H58enpqF+EF9krx6OhoMBikabqzs/PTTz9lWdbtdnu9nv1gMBjU5w0b3BotLc/0e/epw8PD8/Nzm+k3Ho/TNM1L0jQdj8f241evXjmXT2s9WT6tNkmSzc1NryevsLWnoQlbF3ngnoYmLNc5NOHJp7Wu1dAWFxeNMYeHh1988cW333777t27/LvZr3///v2MLXhBfml4wXA4tJeVrVZrf3/fGPPw4UNjTKPRmFZSLa4IHS0tLS0vL09+5uzs7NqqNE3t/QG3cht8dbn22nIbpHTv3r319fXAJ6+wteU8NGFryQMXDk0+c4VDk598b2/v8ePHUQxtaWlpcXHx/v3733zzTb/fb7Va3W73m2++abfbs3td0Gg0Xr9+3W63e73ezs7O5OftndLxePzo0aOvv/661LcNjyvCoIhYC9naUpgWRsSam0gj1m5kaG4Ra61W6+XLl0mSmE/TbVqt1unpaZIkq6urL168cDtbSCxCX+qWFhbm5DUMvtKZFiYs1zm0eCPWitfeSMTa5Oo9OjrKssze/5y0v79v35mwsrLSarXstWb+gfz/Wm4Wi9CXGmY4EbEWvjURaw7lRKw5lBccGhFrV2IRqkDEWnhErDkgYs2ttXBoWZ3eyVAJFqEKRKyFR8SaAyLWnFtLhmZvtBKxhhLIcJqP1vGenKHF1bpWJ7+RiLX5wxUhAEA13kfoiAyn2FsLyxma19bC8lq1FpYHO7lmLMLSyHCam9bCcobmo7WwvJ6theW+Tw5ujZZGxFoNW3samrB1kQdOxFp9hiY8eRQRa1fWWkYxrggdxZUWRsRaFMFXN1IrLzcqhyY/eUQRaxdqbcRat9stG7E2N7giDIqItZCtLYVpYUSsuSFize2bzAEWoS91SwsLc/IaBl/pTAsTluscGhFrpb7bPGER+lLDDCci1sK3JmLNoZyINYdyItYkWIQqELEWHhFrDohYc2stHFpGxFrVB0AIRKyFR8SaAyLWnFsTsSaSoSQynOajdbwnZ2hxta7VyYlYuxJXhAAA1XgfoSMynGJvLSxnaF5bC8tr1VpYTsRaACzC0shwmpvWwnKG5qO1sLyerYXlRKz5xiIsLU+fWltbm/z8ycnJ9va2TULyVD6tVlhe4ckZWlyt4z05Q5tdrl3VL1LGp8iL0qPR6MLbfUajkf3Y5ke4lRd5NX5abf4T93fyClt7GpqwdZEH7mlownKdQ7uRk9d8aPkfL9dePrYe/LJMUGmaPn/+3LncJkA6sImCbwRvsXI+eYWtLeehCVtLHrhwaPKZKxyaEZ98b2+vqtbCoWVZ1ul0NL99gkUYFFmjIVtbCmMzyRp1Q9ao2zeZAyxCX+oWmxnm5DVMgNQZmyks1zk0skZLfbd5wiL0pYZhhmSNhm9N1qhDOVmjDuVkjUqwCFUgazQ8skYdkDXq1lo4tIys0aoPgBDIGg2PrFEHZI06tyZrVCRDSYQZzkfreE/O0OJqXauTF/xu2vCGekdkOMXeWljO0Ly2FpbXqrWwnIi1AFiEpZHhNDetheUMzUdrYXk9WwvLiVjzjUVYGhlOBF9Ve3KGFlfr+p8cvEZYWpF78TVMC8t/4v5OXs/gK8nQhK2LPPB6RqxNq53vod3IyWs+tPyPRKxN4rdGgyJiLWRrS2FamLw83rSwqp5pUQ8tUx+xxq3RoHZ2dhYXF52f8Zubm//zP//jUNhut40xP/74o1tfIzh5ha0t56EJW0seuHBo8vKqfl4VDs2ITx7v0IwxmvPVDO8j9KduaWFhTl7D4CudaWFhyudsaESslfpu84RF6EsNM5yIWAvfmog1h3Ii1hzKiViTYBGqQMRaePFGrEWdFlbVMy3qoWVErFV9AIRAxFp48UasRZ0WRsSaQ6290ar5l2VU/8qsGzKc5qN1vCdnaHG1rtXJC343bbgiBACoxtsnHBFmGHtrYTlD89paWF6r1sJyskYDYBGWRpjh3LQWljM0H62F5fVsLSwna9Q3bo2Wlmf6vfvU4eHh+fm5zfQbj8dpmuYlaZqOx2P78atXr5zLp7WeLJ9WmyTJ5uam15NX2NrT0IStizxwT0MTlk+rZWhzOTTLKMYVoaOlpaXl5eXJz5ydnV1blaapfR+rW7lNC7tce225DVK6d+/e+vp64JNX2NpyHpqwteSBC4cmL9/b23v8+DFDK1Ue79BarVa32+12u3nQjDYswqCIWAvZ2iJizaE83rQwhuZQa4hYq/oAc6tuaWFhTl7D4Csi1vyVM7TohkbE2pVYhL7UMMOJiLXwrYlYcyhnaA7lRKxJsAhVIGItPCLW3FozNIfWwqFlRKxVfQCEQMRaeESsObdmaA6tiVgTyVASGU7z0TrekzO0uFrX6uQ3ErHW6XTsX+ebZVmz2bSrxP5995HiihAAUFSapk+ePMn/+Nlnn9ldsrKyUuGphHj7hCMynGJvLSxnaF5bC8tr1VpY7uPkb9++zaa8Lnjnzp3Zb6XY2dl58OCB/Xg8Hh8cHBwcHDSbzQu/brOxsXF8fGyMybJsMBj0ej37e6r9fn9ra8t+vvjj8q7Cq9FIff/99wsLV19JLyws/PDDD/7KZ9QKyys8OUOLq3W8J2doWZZ99913005o3bp168OHD7N75bdG+/1+p9PJsmw0GtkPrPzz/X5/d3e33+83m01baH/rdfLmah1wRVhaHtm1trY2+fmTk5Pt7W2bhOSpfFqtsLzCkzO0uFrHe3KGZv+4uLhojLnykNbt27fv3r07u1eu1WrZdx+ORqPJzw+HQ3tZab9gMBg8fPjQ1Plt+1Vv4vgUeVF6NBpdeLtP/kryV1995Vxe5NX4abX5T9zfySts7WlowtZFHrinod1IOUObv6Hlf8xr7W+7TH7ba+XXc5OXhpNXeJNXis1mc/IC0X5QtytCflkmqDRNnaPCzC+xmQ5souAbwZv5nE9eYWvLeWjC1pIHLhyavHxvb8+t1jA0J1UNzV6rZVlmjMnjv4trt9vPnj1LkqTX600G07RardPT0yRJVldXX7x44XCwwLg1GhRZoyFbW2SNOpTHG5vJ0ErJ723+9NNPxX/tczKbe1okzf7+/v7+vv14ZWXFdsnb1S3dmytCX+oWmxnm5GSNEpvJ0Bxqq80aTZLks88+K/Wt5gyL0JcaxmaSNRq+NbGZDuUMzaFckjWaZdnOzo7mZBkWoQpkjYZHbKZba4bm0Nr55N1udzAY3PiRosNrhCqQNRoesZnOrRmaQ2u3k7fb7Y2Nja2trcvviNclQ0mEGc5H63hPztDial2rkxf8btpwReiIDKfYWwvLGZrX1sLyWrUWlgc7uWYswtI+fvy4sLDw9OnTy/9oYWHh559/9lc+o1ZYXuHJGVpcrYXlDM1Ha3m5cizC0shwIviq2pMztLha1//k4DXC0orci69hWlj+E/d3ciLWHB74/KWFBTj5/A0tiypibf7w9omgiFgL2doiYs2h3DktrMKTxzs0E23E2tzg1mhQRKyFbG0RseZQXmFr5/J4h2Zii1ibP1wR+lK3tLAwJydijbSwuW8tLCdirYZYhL7UMC2MiLXwrXWmhQU4+fwNTVhOxIZ254UAABQdSURBVJoEi1AFItbC05kWVuHJ4x2aEBFrcrxGqAIRa+HpTAur8OTxDk2IiLUbkKEkMpzmo3W8J2docbWu1ckLfjdtuDUKAFCNW6OOCDOMvbWwnKF5bS0sr1VrYTlZowGwCEsjzHBuWgvLGZqP1sLyerYWlpM16hu3RkvLM/3eferw8PD8/Nxm+o3H4zRN85I0TfPUhlevXjmXT2s9WT6tNkmSzc1Nryf31FpYLhma8OdV5OT1HNq02pqcfP6GVuEzbWNjI0mSyX+kEFeEjpaWlpaXlyc/c3Z2dm1Vmqb2faxu5TYt7HLtteU2hOnevXvr6+uBTy5sLT+589CM7OclOXm1Q7NpYY8fPw7/TNM5NFPdM81GrB0dHdm9qDZchkUYFBFrgcsNEWtO5USsOZQTsRYvbo36Ure0sDAnr2HwFRFr/sp1thaWE7FWQyxCX2qYFjbfmVueTi4s15kWRsSap9oZ5USsSbAIVYg3Yi3ehDadaWFErIVHxJocrxGqEG/EWrwJbTrTwohYC4+ItRuQoSQynOajdbwnZ2hxta7VyYlYuxK3RgEAqnFr1BEZTrG3FpYzNK+theW1ai0sJ2ItABZhaWQ4zU1rYTlD89FaWF7P1sJyItZ8YxGWlkd2ra2tTX7+5ORke3vbJiF5Kp9WKyyv8OQMLa7W8Z6coc0u167qFynjU+RF6dFodOHtPqPRyH781VdfOZcXeTV+Wm3+E/d3ck+theWSoRV51MKT13No02prcvL5G1oW6pmW/zGvbTab5tO3JyrEL8sElaapc76a+SU204FNI3wjeDee88mFreUndx6akf28JCevdmg2NrOq1gqHZqp7ptms0SzLjDF5/LdC3BoNiqzRwOWGrFGncrJGHcrJGo0XV4S+kDVakwRIskb9letsLSwna7SGWIS+kDVKAqTRGptJ1qin2hnlZI1KsAhVIGs0PJ2xmWSNhkfWqByvEapA1mh4OmMzyRoNj6zRG5ChJMIM56N1vCdnaHG1rtXJC343bbgidESGU+ytheUMzWtrYXmtWgvLiVgLgEVYGhlOc9NaWM7QfLQWlteztbCciDXfWISlkeFE8FW1J2docbWu/8nBa4SlFbkXT8TaDbYWlkuGVuRRC0/u6VHb3CzhySt5plU4tBspr/kzLf8jEWuTePtEUESsBS43KiPWbG6WZOZErDmUE7EWL26NBkXEWuByozJizeZmEbEWuJyItXhxRegLEWs1Cb5SG7FW8I1lNTx5zVsLy4lYqyEWoS9ErBF8ZSpNCyt4ryzSHzfPNLehTb5GmH8+I2Kt6gMgBCLWwqswLUyYm0XEmls5EWvx4jVCFYhYC6/CtDCbm3V8fOxWTsSac3kliFi7ARlKIsNpPlrHe3KGFlfrWp284Heb4cLumI93X3BrFABQiH2rRpZlnU7H3lbN330R9S1Wbo06Isww9tbCcobmtbWwvFatheU+Tv727dts4tpu0p07dxqNxrTvb9+qYYyxXzMcDj///HNjzM7OznA4nPzd1/zmfJZlg8Gg1+vZ31Pt9/tbW1v288Ufl3eVXo9G6fvvv19YuPpKemFh4YcffvBXPqNWWF7hyRlaXK3jPTlDy7Lsu+++m3ZC69atWx8+fJjdK8uyZrOZTUTb9Pv9TqeT/9P8j/1+f3d3t9/v26/vdDr2Jmqn07FXljXBrdHS8ky/d586PDw8Pz+3mX7j8ThN07wkTdM8teHVq1fO5dNaT5ZPq02SZHNz0+vJPbUWlkuGJvx5FTm5p0e9sbEhKZ9WW5Mfdz2faZKhBXumLS4uGmMODw+/+OKLb7/91n7Nt99++7vf/c5+/P79+7t375qZkiSxv1nz4MGDK79gOBzaS8ZWq7W/v2+MefjwoTGm0WhMK6kWt0YdLS0tLS8vT37m7Ozs2qo0Te39AbdymxZ2ufbacntn/969e+vr64FPLmwtP7nz0Izs5yU5ufBR21du/vSnPznPfG9v7/Hjx+GfaRUOTV7uPDQT/Jm2tLS0uLh4//59+8V/+MMffv3rX18+9mXj8Xh1dTX75a5mo9F4/fp1u93u9Xo7Ozv5lzUaDXundDweP3r06Ouvv772O1eLK8KgdnZ2bLSum83NTbfCdrtdPLriSs4nF7aWn9x5aEb285KcXPioW61W/lqOW/eCcTxX1lb14672mSYZmqnumWaM6Xa79nKtCPtWDZtr0+12W63Wy5cvkyQxn4bjtFqt09PTJElWV1dfvHjhfLZgWIS+ELFWk+ArItb8da9bUFkU5bWKWBuPxy9fviz+v037+/v562q26ujoKMsye//zyq9cWVnJ/88s/0D+P7g3i0XoCxFrBF8ZIta8lfNMcxvahYi1169fHx8fJ0lyfHxMxBrmHBFr4RGxFriciDWH2na7bXdqs9mU3E6PHb8sowIRa+ERsRa4nIi1qg4wDzKURIbTfLSO9+QMLa7WtTq5PGJtLnFrFACgGrdGHZHhFHtrYTlD89paWF6r1sLyYCfXjEVY2sePHxcWFp4+fXr5Hy0sLPz888/+ymfUCssrPDlDi6u1sJyh+WgtL1eORVhaHtm1trY2+fmTk5Pt7W2bhOSpfFqtsLzCkzO0uFrHe3KGNrtcu6pfpIxPkRelR6PRhbf72GjaLMtsfoRbeZFX46fV5j9xfyf31FpYLhlakUctPLmnR23/ljjhySt5pkmGJnzUFQ4tC/VMy/842Xo0GtlQbLX4ZZmg0jR9/vy5c7mNzXRg0wjfCN6N53xyYWv5yZ2HZmQ/L8nJhY/aZo1KZr63t+dcW9WPW/ioKxyaqe6ZZj169Mi5dj6wCIMiazRwuSFr1Kl7jFmjwkdd4dBMPFmj84pF6AtZozVJgCRr1F/3uiV2GvGjrmposWSNzisWoS9kjZIAacga9Vbu6VFXODRhOVmjEixCFcgaDY+s0cDlwkdd4dCEyBqV4+0TKpA1Gh5Zo4HLhY+6wqEJxfvvSI1kKIkww/loHe/JGVpcrWt18oLfTRuuCB2R4RR7a2E5Q/PaWlheq9bCciLWAmARlkaG09y0FpYzNB+theX1bC0sJ2LNNxZhaWQ4EXxV7ckZWlyt639y8BphaUXuxROxdoOtheWSoRV51MKTE7F2g0MjYu3aoeV/JGJtEm+fCIqItcDlhog1p+5ErJVFxFrUWIRBEbEWuNwQsebUnYi1sohYixqL0Bci1ohYC1A7o5yItfDlzrVErFWLRegLEWtErBki1ryVE7HmNrTJ1wgNEWu/YBGqQMRaeESsBS4nYs2hlog1i7dPqEDEWnhErAUuJ2KtqgPMgwwlkeE0H63jPTlDi6t1rU5e8Ltpw61RAIBq3Bp1RJhh7K2F5QzNa2thea1aC8vJGg2ARVgaYYZz01pYztB8tBaW17O1sJysUd+4NVpanun37lOHh4fn5+c20288HqdpmpekaToej+3Hr169ci6f1nqyfFptkiSbm5teT+6ptbB8Wm2Rkwt/XkVO7ulRb2xsVDW0AD9uT4+6wqFV+Eyz31aSBjAHuCJ0tLS0tLy8PPmZs7Oza6vSNLXvY3Urt2lhl2uvLbchTPfu3VtfXw98cmFrefne3t7jx48dhmZkPy/JyYWP2qaF/elPfwo/tAp/3MJHXeHQTHXPNIuINa4IgyJiLXx5jMFXRKw5IGLNDRFrhkXoDxFrNYlYk9QSseav1lNrItZm1xKxdiUWoS9ErBGxZohY81ZOxJrb0IhYuxKLUAW1EWuRBl8RseZQS8SaQy0Raxa/LKOC2oi1SIOviFhzqCViraoDzIMMJZHhNB+t4z05Q4urda1OTsTalbg1CgBQjVujjshwir21sJyheW0tLK9Va2E5EWsBsAhLI8NpbloLyxmaj9bC8nq2FpYTseYbi7C0POdsbW1t8vMnJyfb29s2CclT+bRaYXmFJ2docbWO9+QMbXa5dlW/SBmfIi9Kj0ajC2/3GY1G9mObH+FWXuTV+Gm1+U/c38k9tb6RcrehFXnUwpN7etTNZrOqoQX4cXt61BUOLZM904qc3Nbmf5xsPRqNms3m5WPrwS/LBJWm6fPnz53LbdaoA5tG+EbwPkLnkwtby8v39vbcao3s5yU5ufBR29jMSoZW4Y9b+KgrHJqRPdOEJzdkjfKG+sDIGg1fHmMCJFmjDtRmjQpPTtaoYRH6Q9YoWaMBameUkzUavty5Vv5MK3JyskanYRH6QtYoWaOGrFFv5WSNOpycrNFpWIQqkDUaHlmjgcvVZo1KTk7WqMXbJ1QgazQ8skYDl6vNGhWevKwkSewHWZYZY/LWo9FoZWUlzBluXoaSCDOcj9bxnpyhxdW6Vicv+N2m6XQ6/X7fftDpdLIsm7xVGy+uCB2R4RR7a2E5Q/PaWlheq9bCch8nf/v2bTbxls1Jd+7caTQa075/fvvUfs14PD44ODg4OGg2m0dHR5NfmV8pZlk2GAx6vZ799Zx+v7+1tWV+uaCsi4oXcYS+//77hYWrX1tdWFj44Ycf/JXPqBWWV3hyhhZX63hPztCyLPvuu++mndC6devWhw8fZvfKssy+Ab/f79vrwtFoZD+w8s/3+/3d3d1+v2+/vtPp2CvI/MqyJrgiLI0MJ4Kvqj05Q4urda1Ovri4aIy58pDW7du37969O7tXkiRZlhljWq2WfePHaDSa/ILhcGgvGe0X2Lf8m1+uI+uo6k0cnyL34r1GdrllOOU/cX8nJ2LN4eT1jFj77W9/W9UzTTI0ItauHVr+R7eINbvw8j/mF3b9fn/yCm/ySrHZbE5eINoP6nZFyNsnghJGdlUVfGWIWHNqHWnE2mAw+P3vf+9WS8Sam1gi1uwvx9q383e73Xa7/ezZsyRJer3eZCZAq9U6PT1NkmR1dfXFixfOBwuGW6NB7ezsLC4uuj3j2+32jz/+6NbXvsTtXG4EJxe2lpdX8qiN7OTCR23vR0nK7927F/5RC8vlj1pSXuEzTXhyG7H28uXLIl+8v7+/v78/+ZkLvyNz5VeurKzYNZnfSq3bexa5IvRlziK7iFgL3FpeTsRa+HLnWiLWqsUi9IWINSLWDBFr3sqJWHM4ORFr07AIo1Fh8JUEEWuBa81NhI1Nu991LSLWwiNiTY7XCKNRYfCVBBFrgWvNTYSN/cd//IdbLRFr4QWOWJtPGUoiw2k+Wsd7coYWV+tanbzgd9OGW6MAANW4NerocljfX//61zDlV+YESsorPDlDi6u1sJyheW0tL9cr7AXoPHj37t2MTL/379/7K59RKyyv8OQMLa7W8Z6coWXcGp3i/0fGoZT/+7//+9e//nX587dv375//77X8mm1wvIKT87Q4motLGdonloXLP/xxx/X19ffvHnzu9/97tpvqAeLEAC0YBFeiV+WAQCoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBACoxiIEAKjGIgQAqMYiBAAUtbGxkSRJmqZX/jFSLEIAQCGDweDhw4dZlhljxuPx5B8Hg0HVp3N3q+oDAACCevv2rd1el925c6fRaEwrbLVarVbLGPPTTz+trKy8fv36888/N8bs7OwMh0P7j6yNjY3j42NjTJZlg8Gg1+sdHBwYY/r9/tbWlv38jT4mERYhAGiRJIkx5ssvv5z2Bbdu3fr73/9+9+7d2d9kd3fXGHN6emoX4QX2SvHo6GgwGKRpurOz89NPP2VZ1u12e72e/WAwGEwuzmqxCAFAi//8z/88PT391a9+Ne0Lbt++PXsLml8u8rrd7oMHD678guFwaC8r7RWk3YvGmBnXmtXiNUIAUOQ3v/nN8nT379+fUWuv5PI/NhqN169fG2N6vd7kkms0GsPh0BgzHo83Nja8PZQbwyIEABTSbrefPXuWJMmzZ8/a7Xar1Xr58qW93Tp5n7PVap2eniZJsrq6+uLFi+rOW1RSq1csAQAIjCtCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGosQgCAaixCAIBqLEIAgGr/DyuMmpz9tUNJAAAAAElFTkSuQmCC" title="plot of chunk unnamed-chunk-1" alt="plot of chunk unnamed-chunk-1" style="display: block; margin: auto;" /></p>

<pre><code class="r"># generate slices from 0 - 10 cm, for all variables
s &lt;- slice(d, 0:10 ~ .)
print(s)
</code></pre>

<pre><code>## Object of class SoilProfileCollection
## Number of profiles: 20
## Depth range: 11-11 cm
## 
## Horizon attributes:
##     id top bottom name       p1       p2        p3        p4        p5
## 1    1   0      1   H1 7.251915 11.62988 -8.260314 -8.949443 -5.133329
## 21   1   1      2   H1 7.251915 11.62988 -8.260314 -8.949443 -5.133329
## 41   1   2      3   H1 7.251915 11.62988 -8.260314 -8.949443 -5.133329
## 61   1   3      4   H1 7.251915 11.62988 -8.260314 -8.949443 -5.133329
## 81   1   4      5   H1 7.251915 11.62988 -8.260314 -8.949443 -5.133329
## 101  1   5      6   H1 7.251915 11.62988 -8.260314 -8.949443 -5.133329
##     .pctMissing
## 1             0
## 21            0
## 41            0
## 61            0
## 81            0
## 101           0
## 
## Sampling site attributes:
##   id
## 1  1
## 2  2
## 3  3
## 4  4
## 5  5
## 6  6
</code></pre>

<pre><code class="r"># note that pct missing is computed for each slice,
# if all vars are missing, then NA is returned
d$p1[1:10] &lt;- NA
s &lt;- slice(d, 10 ~ ., just.the.data=TRUE)
print(s)
</code></pre>

<pre><code>##    id top bottom name          p1          p2          p3          p4
## 1   1  10     11   H1          NA  11.6298780  -8.2603139  -8.9494428
## 2   2  10     11   H1          NA   8.9642315  -5.7800049  -6.1598841
## 3   3  10     11   H2 -16.8838500 -12.7484405  -6.2874701 -17.3687322
## 4   4  10     11   H2  -2.4378247   9.3294991   4.5579698 -10.1265897
## 5   5  10     11   H1   3.6333169 -10.9462296   2.4527259   5.1702814
## 6   6  10     11   H2  21.0925325   9.3385790   0.2408230  11.2817786
## 7   7  10     11   H1   1.6523191  -2.1996488  -5.9232463   3.6672972
## 8   8  10     11   H2  14.2844642 -16.4434842  24.4015520  -0.7516139
## 9   9  10     11   H2 -15.4369724  18.1778775   0.3885064  -1.2532269
## 10 10  10     11   H1   7.5536428  -0.8735853  -4.9266451   9.5127546
## 11 11  10     11   H2   0.4598789   0.5616215 -10.9502006 -10.3796620
## 12 12  10     11   H1  -9.9683222  10.8761176  -7.2045403   5.6928026
## 13 13  10     11   H2  23.4187570  -2.5091526  20.7168544  -1.6317390
## 14 14  10     11   H1   5.7187947  -7.3568496  -8.8217857  10.4996022
## 15 15  10     11   H1   4.0080538  -2.2423478  18.2676269   9.6152605
## 16 16  10     11   H1  13.3757914  20.0811367 -20.4085835   5.2978239
## 17 17  10     11   H2  -6.2294285  -3.7596747 -13.8934870   2.6405185
## 18 18  10     11   H2  -1.5170506  18.1897943 -17.4326741  -2.1330500
## 19 19  10     11   H2  10.1628178   5.1436978  -1.3779084   1.7807973
## 20 20  10     11   H1  -3.5782747  11.9660615   4.8188485   6.8557646
##            p5 .pctMissing
## 1   -5.133329   0.1666667
## 2  -12.721075   0.1666667
## 3   -5.146984   0.0000000
## 4   -5.556751   0.0000000
## 5   -7.514825   0.0000000
## 6    6.022178   0.0000000
## 7   -2.296110   0.0000000
## 8   13.041729   0.0000000
## 9   -4.081439   0.0000000
## 10 -12.900695   0.0000000
## 11 -18.993457   0.0000000
## 12 -12.361935   0.0000000
## 13  13.896492   0.0000000
## 14 -15.865284   0.0000000
## 15   6.253933   0.0000000
## 16   5.865116   0.0000000
## 17   8.819481   0.0000000
## 18  10.365779   0.0000000
## 19  -9.130181   0.0000000
## 20  -1.320686   0.0000000
</code></pre>

<pre><code class="r">## 
## check sliced data
##

# test that mean of 1 cm slices property is equal to the 
# hz-thickness weighted mean value of that property
data(sp1)
depths(sp1) &lt;- id ~ top + bottom

# get the first profile
sp1.sub &lt;- sp1[which(profile_id(sp1) == &#39;P009&#39;), ]

# compute hz-thickness wt. mean
hz.wt.mean &lt;- with(horizons(sp1.sub), 
sum((bottom - top) * prop) / sum(bottom - top) 
)

# hopefully the same value, calculated via slice()
s &lt;- slice(sp1.sub, 0:max(sp1.sub) ~ prop)
hz.slice.mean &lt;- mean(s$prop, na.rm=TRUE)

# same?
if(!all.equal(hz.slice.mean, hz.wt.mean))
    stop(&#39;there is a bug in slice() !!!&#39;)
</code></pre>


<hr><div align="center">[Package <em>aqp</em> version 1.7-6 <a href="00Index.html">Index</a>]</div>
</body></html>
