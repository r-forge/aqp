<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Slicing of SoilProfilecollection Objects</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">

<link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/github.min.css">
<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
<script src="http://yandex.st/highlightjs/7.3/languages/r.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head><body>

<table width="100%" summary="page for slice-methods {aqp}"><tr><td>slice-methods {aqp}</td><td align="right">R Documentation</td></tr></table>

<h2>Slicing of SoilProfilecollection Objects</h2>

<h3>Description</h3>

<p>Slicing of SoilProfilecollection Objects</p>


<h3>Usage</h3>

<pre>
# method for SoilProfileCollection objects
slice(object, fm, top.down=TRUE, just.the.data=FALSE, strict=TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>
<p>a SoilProfileCollection</p>
</td></tr>
<tr valign="top"><td><code>fm</code></td>
<td>
<p>A formula: either &lsquo;integer.vector ~ var1 + var2 + var3&rsquo; where named variables are sliced according to &lsquo;integer.vector&rsquo; OR where all variables are sliced accordin to &lsquo;integer.vector&rsquo; &lsquo;integer.vector ~.&rsquo;.</p>
</td></tr>
<tr valign="top"><td><code>top.down</code></td>
<td>
<p>Logical, should slices be defined from the top-down? The default is usually what you want.</p>
</td></tr>
<tr valign="top"><td><code>just.the.data</code></td>
<td>
<p>Logical, return just the sliced data or a new SoilProfileCollection object.</p>
</td></tr>
<tr valign="top"><td><code>strict</code></td>
<td>
<p>Logical, should the horizonation be strictly checked for self-consistency?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a new SoilProfileCollection with data sliced according to <code>fm</code>, or a <code>data.frame</code>.</p>


<h3>Methods</h3>


<dl>
<dt>data = &quot;SoilProfileCollection&quot;</dt><dd><p>Typical usage, where input is a <code><a href="SoilProfileCollection-class.html">SoilProfileCollection</a></code>.</p>
</dd>
</dl>



<h3>Note</h3>

<p><code>slab()</code> and <code>slice()</code> are much faster and require less memory if input data are either numeric or character.</p>


<h3>Author(s)</h3>

<p>D.E. Beaudette</p>


<h3>References</h3>

<p>D.E. Beaudette, P. Roudier, A.T. O'Geen, Algorithms for quantitative pedology: A toolkit for soil scientists, Computers &amp; Geosciences, Volume 52, March 2013, Pages 258-268, 10.1016/j.cageo.2012.10.020.
</p>


<h3>See Also</h3>

<p><code><a href="SPC-slab-methods.html">slab</a></code></p>


<h3>Examples</h3>

<pre><code class="r">
# simulate some data, IDs are 1:20
library(plyr)
d &lt;- ldply(1:20, random_profile)

# init SoilProfilecollection object
depths(d) &lt;- id ~ top + bottom
head(horizons(d))
</code></pre>

<pre><code>##   id top bottom name     p1     p2      p3      p4      p5
## 1  1   0     28   H1  7.252 11.630  -8.260  -8.949  -5.133
## 2  1  28     51   H2 16.857  8.517 -12.711  -6.713  -1.344
## 3  1  51     64   H3  6.676 -5.471  -9.468  -1.434  -2.064
## 4  1  64     70   H4 -3.867 -1.251 -10.029 -15.935  -5.324
## 5  1  70     94   H5  5.313  6.285 -18.697 -12.677 -13.328
## 6  1  94    116   H6 20.797  9.076 -18.794 -12.624  -4.097
</code></pre>

<pre><code class="r">
# generate single slice at 10 cm
# output is a SoilProfilecollection object
s &lt;- slice(d, 10 ~ name + p1 + p2 + p3)

# generate single slice at 10 cm, output data.frame
s &lt;- slice(d, 10 ~ name + p1 + p2 + p3, just.the.data=TRUE)

# generate integer slices from 0 - 25 cm
s &lt;- slice(d, 0:25 ~ name + p1 + p2 + p3)
plot(s)
</code></pre>

<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-1" alt="plot of chunk unnamed-chunk-1" style="display: block; margin: auto;" /></p>

<pre><code class="r">
# generate slices from 0 - 10 cm, for all variables
s &lt;- slice(d, 0:10 ~ .)
print(s)
</code></pre>

<pre><code>## Object of class SoilProfileCollection
## Number of profiles: 20
## Depth range: 11-11 cm
## 
## Horizon attributes:
##     id top bottom name    p1    p2    p3     p4     p5 .pctMissing
## 1    1   0      1   H1 7.252 11.63 -8.26 -8.949 -5.133           0
## 21   1   1      2   H1 7.252 11.63 -8.26 -8.949 -5.133           0
## 41   1   2      3   H1 7.252 11.63 -8.26 -8.949 -5.133           0
## 61   1   3      4   H1 7.252 11.63 -8.26 -8.949 -5.133           0
## 81   1   4      5   H1 7.252 11.63 -8.26 -8.949 -5.133           0
## 101  1   5      6   H1 7.252 11.63 -8.26 -8.949 -5.133           0
## 
## Sampling site attributes:
##   id
## 1  1
## 2  2
## 3  3
## 4  4
## 5  5
## 6  6
</code></pre>

<pre><code class="r">
# note that pct missing is computed for each slice,
# if all vars are missing, then NA is returned
d$p1[1:10] &lt;- NA
s &lt;- slice(d, 10 ~ ., just.the.data=TRUE)
print(s)
</code></pre>

<pre><code>##    id top bottom name       p1       p2       p3       p4      p5
## 1   1  10     11   H1       NA  11.6299  -8.2603  -8.9494  -5.133
## 2   2  10     11   H1       NA   8.9642  -5.7800  -6.1599 -12.721
## 3   3  10     11   H2 -16.8839 -12.7484  -6.2875 -17.3687  -5.147
## 4   4  10     11   H2  -2.4378   9.3295   4.5580 -10.1266  -5.557
## 5   5  10     11   H1   3.6333 -10.9462   2.4527   5.1703  -7.515
## 6   6  10     11   H2  21.0925   9.3386   0.2408  11.2818   6.022
## 7   7  10     11   H1   1.6523  -2.1996  -5.9232   3.6673  -2.296
## 8   8  10     11   H2  14.2845 -16.4435  24.4016  -0.7516  13.042
## 9   9  10     11   H2 -15.4370  18.1779   0.3885  -1.2532  -4.081
## 10 10  10     11   H1   7.5536  -0.8736  -4.9266   9.5128 -12.901
## 11 11  10     11   H2   0.4599   0.5616 -10.9502 -10.3797 -18.993
## 12 12  10     11   H1  -9.9683  10.8761  -7.2045   5.6928 -12.362
## 13 13  10     11   H2  23.4188  -2.5092  20.7169  -1.6317  13.896
## 14 14  10     11   H1   5.7188  -7.3568  -8.8218  10.4996 -15.865
## 15 15  10     11   H1   4.0081  -2.2423  18.2676   9.6153   6.254
## 16 16  10     11   H1  13.3758  20.0811 -20.4086   5.2978   5.865
## 17 17  10     11   H2  -6.2294  -3.7597 -13.8935   2.6405   8.819
## 18 18  10     11   H2  -1.5171  18.1898 -17.4327  -2.1330  10.366
## 19 19  10     11   H2  10.1628   5.1437  -1.3779   1.7808  -9.130
## 20 20  10     11   H1  -3.5783  11.9661   4.8188   6.8558  -1.321
##    .pctMissing
## 1       0.1667
## 2       0.1667
## 3       0.0000
## 4       0.0000
## 5       0.0000
## 6       0.0000
## 7       0.0000
## 8       0.0000
## 9       0.0000
## 10      0.0000
## 11      0.0000
## 12      0.0000
## 13      0.0000
## 14      0.0000
## 15      0.0000
## 16      0.0000
## 17      0.0000
## 18      0.0000
## 19      0.0000
## 20      0.0000
</code></pre>

<pre><code class="r">
## 
## check sliced data
##

# test that mean of 1 cm slices property is equal to the 
# hz-thickness weighted mean value of that property
data(sp1)
depths(sp1) &lt;- id ~ top + bottom

# get the first profile
sp1.sub &lt;- sp1[which(profile_id(sp1) == &#39;P009&#39;), ]

# compute hz-thickness wt. mean
hz.wt.mean &lt;- with(horizons(sp1.sub), 
sum((bottom - top) * prop) / sum(bottom - top) 
)

# hopefully the same value, calculated via slice()
s &lt;- slice(sp1.sub, 0:max(sp1.sub) ~ prop)
hz.slice.mean &lt;- mean(s$prop, na.rm=TRUE)

# same?
if(!all.equal(hz.slice.mean, hz.wt.mean))
    stop(&#39;there is a bug in slice() !!!&#39;)

</code></pre>


<hr><div align="center">[Package <em>aqp</em> version 1.6-1 <a href="00Index.html">Index</a>]</div>
</body></html>
