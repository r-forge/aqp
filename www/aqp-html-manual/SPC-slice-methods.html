<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Slicing of SoilProfilecollection Objects</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">

<link rel="stylesheet" href="highlight.css">
<script src="highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head><body>

<table width="100%" summary="page for slice-methods {aqp}"><tr><td>slice-methods {aqp}</td><td align="right">R Documentation</td></tr></table>

<h2>Slicing of SoilProfilecollection Objects</h2>

<h3>Description</h3>

<p>Slicing of SoilProfilecollection Objects</p>


<h3>Methods</h3>



<dl>
<dt><code>signature(object = "SoilProfileCollection")</code></dt><dd>

</dd>
</dl>


<h3>Author(s)</h3>

<p>Dylan E. Beaudette</p>


<h3>References</h3>

<p>http://casoilresource.lawr.ucdavis.edu/</p>


<h3>See Also</h3>

<p><code><a href="SPC-slab-methods.html">slab</a></code></p>


<h3>Examples</h3>

<pre><code class="r">
# simulate some data, IDs are 1:20
library(plyr)
d &lt;- ldply(1:20, random_profile)

# init SoilProfilecollection object
depths(d) &lt;- id ~ top + bottom
head(horizons(d))
</code></pre>

<pre><code>##   id top bottom name      p1      p2       p3       p4      p5
## 1  1   0     10   H1  0.9025  2.3271  -0.3549  -0.2653  -1.975
## 2  1  10     25   H2 13.8135  2.3025  13.5868  -8.0318  -4.887
## 3  1  25     50   H3 14.4334 14.1728  12.9148 -11.7891  -4.072
## 4  1  50     62   H4  4.1994 12.6230  16.3054  -2.3918 -16.429
## 5  2   0     24   H1  0.9592 -0.9245  -1.6298   1.4748   1.718
## 6  2  24     33   H2  9.2532 -8.3937 -10.2498  -0.7090 -15.234
</code></pre>

<pre><code class="r">
# generate single slice at 10 cm
# output is a SoilProfilecollection object
s &lt;- slice(d, 10 ~ name + p1 + p2 + p3)

# generate single slice at 10 cm, output data.frame
s &lt;- slice(d, 10 ~ name + p1 + p2 + p3, just.the.data=TRUE)

# generate integer slices from 0 - 25 cm
s &lt;- slice(d, 0:25 ~ name + p1 + p2 + p3)
plot(s)
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-1"/> </p>

<pre><code class="r">
# generate slices from 0 - 10 cm, for all variables
s &lt;- slice(d, 0:10 ~ .)
print(s)
</code></pre>

<pre><code>## Object of class SoilProfileCollection
## Number of profiles: 20
## Depth range: 11-11 cm
## 
## Horizon attributes:
##     id top bottom name     p1    p2      p3      p4     p5 .pctMissing
## 1    1   0      1   H1 0.9025 2.327 -0.3549 -0.2653 -1.975           0
## 21   1   1      2   H1 0.9025 2.327 -0.3549 -0.2653 -1.975           0
## 41   1   2      3   H1 0.9025 2.327 -0.3549 -0.2653 -1.975           0
## 61   1   3      4   H1 0.9025 2.327 -0.3549 -0.2653 -1.975           0
## 81   1   4      5   H1 0.9025 2.327 -0.3549 -0.2653 -1.975           0
## 101  1   5      6   H1 0.9025 2.327 -0.3549 -0.2653 -1.975           0
## 
## Sampling site attributes:
##   id
## 1  1
## 2  2
## 3  3
## 4  4
## 5  5
## 6  6
</code></pre>

<pre><code class="r">
# note that pct missing is computed for each slice,
# if all vars are missing, then NA is returned
d$p1[1:10] &lt;- NA
s &lt;- slice(d, 10 ~ ., just.the.data=TRUE)
print(s)
</code></pre>

<pre><code>##    id top bottom name       p1      p2        p3       p4       p5
## 1   1  10     11   H2       NA  2.3025 13.586831 -8.03184 -4.88718
## 2   2  10     11   H1       NA -0.9245 -1.629776  1.47476  1.71810
## 3   3  10     11   H1       NA  1.3626  1.236242 -0.44785  1.46571
## 4   4  10     11   H1  -1.5513 -0.2020 -0.228934  0.40547 -0.66368
## 5   5  10     11   H1   0.5549  0.1871  1.012746  0.74820 -0.61113
## 6   6  10     11   H1   1.0682 -0.1358  2.155090 -0.64094  0.68894
## 7   7  10     11   H1   1.8957  0.4738 -0.791176  0.07161 -0.88440
## 8   8  10     11   H1   0.5429 -0.2808 -0.772351  2.31303  1.22550
## 9   9  10     11   H2 -13.5729  9.7653 -5.459310  8.07762 -2.88514
## 10 10  10     11   H1   2.0602 -0.3368 -0.496408  0.65273  0.55247
## 11 11  10     11   H1  -0.4651  0.9831  2.343911  0.71298 -0.75190
## 12 12  10     11   H2  14.7677  1.2242 -2.721616 -2.98039 -4.87869
## 13 13  10     11   H2   7.4924 10.5352  2.251962  4.33278  8.73627
## 14 14  10     11   H1  -0.0763  0.3422 -1.267093  0.23835  0.40148
## 15 15  10     11   H1  -0.7303  1.0749  0.022997  1.23007 -0.03435
## 16 16  10     11   H1  -0.1761  1.4167  0.042101 -0.81193 -0.20786
## 17 17  10     11   H1   0.6393  2.0782  0.567891 -2.24910 -1.45716
## 18 18  10     11   H1  -0.2355  1.1621  0.002951  0.06018 -0.25549
## 19 19  10     11   H1   0.7051 -0.6313 -1.016708 -2.00071  0.23898
## 20 20  10     11   H1  -1.5828 -0.4844  0.488550  0.55037  0.14008
##    .pctMissing
## 1       0.1667
## 2       0.1667
## 3       0.1667
## 4       0.0000
## 5       0.0000
## 6       0.0000
## 7       0.0000
## 8       0.0000
## 9       0.0000
## 10      0.0000
## 11      0.0000
## 12      0.0000
## 13      0.0000
## 14      0.0000
## 15      0.0000
## 16      0.0000
## 17      0.0000
## 18      0.0000
## 19      0.0000
## 20      0.0000
</code></pre>

<pre><code class="r">
## 
## check sliced data
##

# test that mean of 1 cm slices property is equal to the 
# hz-thickness weighted mean value of that property
data(sp1)
depths(sp1) &lt;- id ~ top + bottom

# get the first profile
sp1.sub &lt;- sp1[which(profile_id(sp1) == &#39;P009&#39;), ]

# compute hz-thickness wt. mean
hz.wt.mean &lt;- with(horizons(sp1.sub), 
sum((bottom - top) * prop) / sum(bottom - top) 
)

# hopefully the same value, calculated via slice()
s &lt;- slice(sp1.sub, 0:max(sp1.sub) ~ prop)
hz.slice.mean &lt;- mean(s$prop, na.rm=TRUE)

# same?
if(!all.equal(hz.slice.mean, hz.wt.mean))
    stop(&#39;there is a bug in slice() !!!&#39;)

</code></pre>


<hr><div align="center">[Package <em>aqp</em> version 1.4-6 <a href="00Index.html">Index</a>]</div>
</body></html>
